struct Node {
    x : i32,
    y : i32,
}

struct Point {
    x : i32,
    y : i32,
    z : i32,
}

// 测试基本聚合类型传参
fn test_basic_struct(node : Node) -> i32 {
    node.x + node.y
}

// 测试多层嵌套聚合类型
fn test_nested_struct(p : Point) -> i32 {
    p.x + p.y + p.z
}

// 测试聚合类型的引用操作
fn test_struct_ref(node : Node) -> i32 {
    let ptr = &node;
    (*ptr).x + (*ptr).y
}

// 测试聚合类型的字段访问
fn test_struct_field_access(p : Point) -> i32 {
    p.x * p.y + p.z
}

fn main() {
    // 测试基本结构体
    let mut node : Node = Node{x : 10, y : 20};
    let result1 : i32 = test_basic_struct(node);
    printlnInt(result1);  // 应该输出 30
    
    // 测试嵌套结构体
    let mut point : Point = Point{x : 1, y : 2, z : 3};
    let result2 : i32 = test_nested_struct(point);
    printlnInt(result2);  // 应该输出 6
    
    // 测试引用操作
    let result3 : i32 = test_struct_ref(node);
    printlnInt(result3);  // 应该输出 30
    
    // 测试字段访问
    let result4 : i32 = test_struct_field_access(point);
    printlnInt(result4);  // 应该输出 5 (1*2 + 3)
    
    exit(0);
}